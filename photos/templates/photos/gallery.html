<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photos</title>

    <!--Attach CSS only from bootstrap5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <style>
        .image-thumbail {
            height: 200px;
            object-fit: cover;
            /* object-fit: cover;... to ensure the photo is well positioned inside the box/not distorted */
        }

        .list-group-item a {
            text-decoration: none;
            color: black;
        }
    </style>
</head>

<body class="m-5">
    <!-- Margin of the body from the top -->
<div class="container">
    <div class="row">
        <div class="col-md-3"> 
            <!-- Card to cover 3 columns -->
            <div class="card">
                <!-- Card header -->
                <div class="card-header"> Click any category to view </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><a href="{% url 'gallery' %}">All</a></li>
                    <!-- url 'gallery'.......to direct to gallery if someone clicks the button ALL -->

                    <!-- We create a loop to loop through the contents in the Content model -->
                        {% for category in categories %} 
                        <li class=" list-group-item">
                            <a href="{% url 'gallery' %}?category={{category.name}}">
                                {{category.name}}
                            </a>
                        </li>                                <!-- category.name...to capture the name under the Category model -->
                                <!-- The category names have been created in the Django admin -->
                        {% endfor %}

                    <!-- <a href="{% url 'add' %}" class="btn btn-dark btn-block btn-sm m-1">Add Photo</a> -->
                           <!-- href="{% url 'add' %}"...refers you to the name:  add url in urls.py -->

                </ul>
            </div>
        </div>
                <div class="col-md-9">
            <div class="row">
                {% for photo in photos %}
                <div class="col-md-4">
                    <!-- class="col-md-4" to put the image inside the box covering 4 columns -->
                    <div class="card my-2">
                        <!-- my-2   for margin for from the cards below it -->
                        <img class="image-thumbnail" src="{{photo.image.url}}" alt="Card image cap">
                                <!-- When capturing an image, we use .url, otherwise you will be capturing the whole folder -->

                        <div class="card-body"> 
                            <small>Category:{{photo.category.name}}</small>
                            <!-- photo.category.name............ to capture data that has a foreign key -->
                        </div>
                        <a class="btn btn-outline-dark btn-sm m-1" href="{% url 'photo' photo.id %}">View this image</a>
                         <!-- 1)   url 'photo' pointing to the url name class="col-md-4"  to create a hover effect of color black -->
                         <!-- 2)   m-1   To create a margin for the button from top  -->
                         <!-- 3)   photo.id    To attach the photo to the id -->
                    </div>
                </div>  
                {% empty%}
                <h3>No photos uploaded</h3>
                {% endfor %}
            </div>
        </div>    
    </div>

</div>
</body>

</html>